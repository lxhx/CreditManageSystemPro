@{
    ViewBag.Title = "菜单";
}

<link href="@Url.Content("~/Content/bootstrap.min.css?v=3.3.5")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/font-awesome.min.css?v=4.4.0")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/animate.min.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/style.min.css?v=4.0.0")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/plugins/jsTree/style.min.css")" rel="stylesheet">
<link href="@Url.Content("~/Scripts/plugins/layer/skin/layer.css")" rel="stylesheet">
<body class="gray-bg">
 @using (Html.BeginForm())
 {
        <div class="wrapper wrapper-content  animated fadeInRight">

        <div class="row">
            <div class="col-sm-6">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>菜单</h5>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<button class="btn btn-primary " type="button" id="add"><i class="fa fa-plus"></i>&nbsp;新增菜单</button>&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-primary " type="button"><i class="fa fa-edit"></i>&nbsp;编辑菜单</button>&nbsp;&nbsp;&nbsp;
                        <button class="btn btn-primary " type="button"><i class="fa fa-trash"></i>&nbsp;删除菜单</button>
                        <div class="ibox-tools">
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div id="using_json"></div>

                    </div>
                </div>
            </div>
        </div>
    </div>
 }
    <script src="@Url.Content("~/Scripts/jquery.min.js?v=2.1.4")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/bootstrap.min.js?v=3.3.5")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/plugins/layer/layer.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/plugins/jsTree/jstree.min.js")" type="text/javascript"></script>
    <script type="text/javascript">
        //增加菜单事件
        $('#add').on("click", function () {
            layer.open({
                type: 2, //page层
                area: ['60%', '70%'],
                title: '新增菜单',
                shade: 0.2, //遮罩透明度
                shadeClose: false,
                maxmin: true,
                moveType: 1, //拖拽风格，0是默认，1是传统拖动
                shift: 1, //0-6的动画形式，-1不开启
                content: 'add'
            });
        });
        $(document).ready(function () {
            $.ajax({
                type: "post",
                url: "/admin/Menu/Jstree",
                async: false,
                dataType: "text",
                success: function (data) {
                    $("#using_json").jstree(eval('(' + data + ')'));
                }
            });
    //$("#using_json").jstree({"core": {"data": [{"text": "首页"},{"text": "个人资料"},{"text": "系统管理","state": {"opened": true},"children": [{"text": "用户管理"},{"text": "角色管理"},{"text": "权限管理"},{"text": "菜单管理"},]},{"text": "信箱"},{"text": "客户管理"},{"text": "贷款管理"},{"text": "审查管理"},]}});
    //$("#using_json").jstree({"core": { "data": [{ "text": "Empty Folder"}, { "text": "Resources", "state": { "opened": true }, "children": [{ "text": "css", "children": [{ "text": "animate.css", "icon": "none" }, { "text": "bootstrap.css", "icon": "none" }, { "text": "main.css", "icon": "none" }, { "text": "style.css", "icon": "none"}], "state": { "opened": true} }, { "text": "js", "children": [{ "text": "bootstrap.js", "icon": "none" }, { "text": "hplus.min.js", "icon": "none" }, { "text": "jquery.min.js", "icon": "none" }, { "text": "jsTree.min.js", "icon": "none" }, { "text": "custom.min.js", "icon": "none"}], "state": { "opened": true} }, { "text": "html", "children": [{ "text": "layout.html", "icon": "none" }, { "text": "navigation.html", "icon": "none" }, { "text": "navbar.html", "icon": "none" }, { "text": "footer.html", "icon": "none" }, { "text": "sidebar.html", "icon": "none"}], "state": { "opened": true}}] }, {"text":"Fonts"}, {"text":"Images"}, {"text":"Scripts"}, {"text":"Templates"}]} });
        });
    </script>
</body>
